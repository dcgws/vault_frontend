<div class="page-wrapper">
  <!-- <div class="title-nav">
    <a nz-dropdown [nzDropdownMenu]="menu">
      My Vault
      <i
        class="ms-3"
        nz-icon
        nzType="down"
        nzTheme="outline"
        style="font-size: 15px"
      ></i>
    </a>
    <nz-dropdown-menu #menu="nzDropdownMenu">
      <ul nz-menu nzSelectable>
        <li
          *ngFor="let project of projects"
          nz-menu-item
          (click)="openProject(project)"
        >
          <i class="me-2" nz-icon nzType="folder" nzTheme="outline"></i>
          {{ project.project_name }}
        </li>
      </ul>
    </nz-dropdown-menu>
  </div> -->
  <div class="main-content">
    <div class="file-explorer">
      <span class="file-info-header">Recently Viewed</span>
      <!-- for folder items -->
      <div class="folders">
        <nz-card
          class="folder-card mb-2"
          *ngFor="let file of generateRecentItems()"
          (click)="selectFile(file)"
        >
          <div class="file-menu">
            <a nz-dropdown [nzDropdownMenu]="fileMenu" nzPlacement="bottomRight"
              ><i nz-icon nzType="more"></i
            ></a>
            <nz-dropdown-menu #fileMenu="nzDropdownMenu">
              <ul nz-menu>
                <li nz-menu-item (click)="downloadFile(file)">Download</li>
                <li *ngIf="file.finalStarred == 0" nz-menu-item (click)="addToStarred(file, false)">Add to Starred</li>
                <li *ngIf="file.finalStarred == 1" nz-menu-item (click)="removeFromStarred(file, false)">Remove from Starred</li>
                <li nz-menu-item>Rename</li>
                <li nz-menu-item (click)="deleteFile(stage, file)">Delete</li>
              </ul>
            </nz-dropdown-menu>
          </div>

          <div class="file-thumbnail">
            <i nz-icon [nzType]="getFileIcon(file.name)" nzTheme="fill"></i>
          </div>
          <div class="folder-card-content">
            <i
              *ngIf="file.name.indexOf('.') !== -1"
              nz-icon
              [nzType]="getFileIcon(file.name)"
              nzTheme="fill"
            ></i>
            <p
              nz-tooltip
              nzTooltipTitle="{{ file.name }}"
              nzTooltipColor="white"
            >
              {{ file.name }}
            </p>
          </div>
        </nz-card>
      </div>
    </div>
  </div>
</div>
